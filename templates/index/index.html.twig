{% extends 'base.html.twig' %}

{% block title %}WatchThis{% endblock %}

{% block body %}
<main>
    <section class="hero">
        <h1>Bienvenue sur WatchThis</h1>
        <p>Découvrez tous les films, les plus récents et les plus populaires.</p>
    </section>
    <section class="most-viewed">
        <h2>Les films les plus vus du moment</h2>
        <div class="movies-grid">
            {% for movie in mostViewedMovies %}
                <div class="movie-card">
                    <img src="{{ asset('uploads/movies/' ~ movie.image) }}" alt="{{ movie.title }}">
                    <h3>{{ movie.title }}</h3>
                    <p>{{ movie.description | slice(0, 100) ~ '...' }}</p>
                    <a href="{{ path('movie_details', { id: movie.id }) }}" class="details-button">Voir détails</a>
                </div>
            {% else %}
                <p>Aucun film disponible pour l'instant.</p>
            {% endfor %}
        </div>
    </section>
</main>

{% endblock %}
